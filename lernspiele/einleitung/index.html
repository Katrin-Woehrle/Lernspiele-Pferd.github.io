 <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <title>Einleitung</title>
 	<link rel="stylesheet" href="/css/main.css"> 
 	<script language="javascript" type="text/javascript">
		var zeige_bild_name = false;
		var max_zusammenpassende_bilder = 2;
		var verdecktes_bild_name = "verdeckt.png";   
		var vordefinierte_bilder_namen = new Array();
		i = 0;
		vordefinierte_bilder_namen[i++] = "einleitung-ueberschrift_1.png";
		vordefinierte_bilder_namen[i++] = "einleitung-text_1.png";
		
//variablen.js

var anzahl_der_vordefinierten_bilder = vordefinierte_bilder_namen.length;
var verwendete_bilder = anzahl_der_vordefinierten_bilder;
var anzahl_der_bilder;                 
var gemischte_bilder = new Array();    
var indexes_array = new Array();       
var akt_spieleranzahl = 1;                   
var akt_spieler;                        
var anzahl_zusammenpassende_bilder = max_zusammenpassende_bilder;   
var set_matching_images = anzahl_zusammenpassende_bilder;  
var zuletzt_angeklickt_index = new Array();
var aufgedeckte_bilder_in_der_runde;  
var einstellungsseite_zaehler = 0;

function zeichne_html_spiel()
	{
		var alt_text;                              
    			for (i = 0; i < anzahl_der_bilder; i++)
    				{         
        				alt_text = "Memoryteil_" + (i+1);
        				if (zeige_bild_name == true)
         					{
        						alt_text += ":_";    
        						alt_text += gemischte_bilder[indexes_array[i]];
         					}
        				document.write ('<img src="' + verdecktes_bild_name + '" height= "200" width="200" border="0" alt="' + alt_text + '" name="image' + i + '" onClick="top.show_hidden_image(this)">');
    				}
	}

function show_hidden_image (clicked_image)
	{
    		if (aufgedeckte_bilder_in_der_runde < anzahl_zusammenpassende_bilder)
    			{
        			var clicked_index = -1;    
        			clicked_index = parseInt(clicked_image.name.substr(5,10));
        			if (clicked_image.src.search(verdecktes_bild_name) != -1)
        				{
            					displayed_picture_index = indexes_array[clicked_index];
            					document.images[clicked_index].src = gemischte_bilder[displayed_picture_index];
	            				zuletzt_angeklickt_index[aufgedeckte_bilder_in_der_runde] = clicked_index;
            					aufgedeckte_bilder_in_der_runde++;
			        if (aufgedeckte_bilder_in_der_runde == anzahl_zusammenpassende_bilder)
            				{
                				var matching = true;
                				for (i = 0;   i < (anzahl_zusammenpassende_bilder - 1);   i++)
                					{
                    						if (Math.floor(indexes_array[zuletzt_angeklickt_index[i]  ] / anzahl_zusammenpassende_bilder)
                    						!=  Math.floor(indexes_array[zuletzt_angeklickt_index[i+1]] / anzahl_zusammenpassende_bilder))
                    							{
                        							matching = false;
                    							}
                					}
		                if (matching == true)
                			{                   
                    				punkte_des_spielers[akt_spieler - 1]++;
                    				for (i = 0;   i < anzahl_zusammenpassende_bilder;   i++)
                    					{                       
                        					zuletzt_angeklickt_index[i] = -1;
                    					}
                    				aufgedeckte_bilder_in_der_runde = 0;
                    				var found_images = 0;
                    				for (i = 0;   i < akt_spieleranzahl;   i++)
                    					{
                        					found_images += punkte_des_spielers[i];
                    					}
                    				found_images *= anzahl_zusammenpassende_bilder;
                    				if (found_images == anzahl_der_bilder)
                    					{
                        					ausgabe_aktueller_spiel_werte();   
                        					if (akt_spieleranzahl == 1)
                        						{
                            							alert ("Herzlichen Glückwunsch !\n Du hast alle Karten richtig zugeordnet. \n Drücke OK um ein neues Spiel zu starten.");
                        						}
                        					else
                        						{
                            							alert ("Herzlichen Glückwunsch !\n Ihr habt alle Karten richtig zugeordnet. \n Drückt OK um ein neues Spiel zu starten.");
                        						}
                        					nach_Spieleinstellungen_fragen();
                        					return;
                    			}

                	}
                else
                	{
                    		// Bilder passen nicht zusammen: warte einfach auf den nächsten Klick auf ein Bild,
                    		// bevor sie wieder verdeckt werden und springe zum nächsten Spieler.
                	}
            }
        }
    }   
    else
    {       
        for (i = 0;   i < anzahl_zusammenpassende_bilder;   i++)
        {
            document.images[zuletzt_angeklickt_index[i]].src = verdecktes_bild_name;
            zuletzt_angeklickt_index[i] = -1;
        }

        aufgedeckte_bilder_in_der_runde = 0;
    }

    return;

}
	
		function zeige_bilder()
			{    
				document.write ("<form name=\"form_bilder_anzeigen\">\n");
				document.write ("<input type=\"button\" name=\"button_Zurueck\" value=\"Zurück zur Startseite\" onClick=\"history.back();\">\n");
  				document.write ("</form>\n");
					var alt_text;                              
					for (i = 0; i < anzahl_der_vordefinierten_bilder; i++)
    						{         
        						alt_text = "Bild_" + (i+1) + ":_" + vordefinierte_bilder_namen[i];
        						document.write ('<img src="' + vordefinierte_bilder_namen[i] + '" height= "200" width="200" border="1" alt="' + alt_text + '" name="image' + i + '" >');
    						}
				document.write ("</form>\n");
			}
			
		function bilder_zeigen()
		{
			var alt_text;                              
					for (i = 0; i < anzahl_der_vordefinierten_bilder; i++)
    						{         
        						alt_text = "Bild_" + (i+1) + ":_" + vordefinierte_bilder_namen[i];
        						document.write ('<img src="' + vordefinierte_bilder_namen[i] + '" height= "200" width="200" border="1" alt="' + alt_text + '" name="image' + i + '" >');
    						}
			document.write ('<img src="' einleitung-ueberschrift_1.png '" height= "200" width="200" border="0" alt="' + alt_text + '" name="image' + i + '" onClick="top.show_hidden_image(this)">');
			document.write ('<img src="' + verdecktes_bild_name + '" height= "200" width="200" border="0" alt="' + alt_text + '" name="image' + i + '" onClick="top.show_hidden_image(this)">');
	
		}
	</script> 
  </head>
    <body>
	<a href="http://lernspiele-pferd.github.io/">Zurück zur Startseite</a>
	<br>
	<br>
	<script language="javascript" type="text/javascript">
		zeichne_html_spiel();
		bilder_zeigen();
	</script>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
    </body>
</html>
